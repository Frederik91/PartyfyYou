<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
</head>

<body style=" background-color : #000000">
<script>
    if (!window.console) console = {};
    console.log = console.log || function () { };
    var isLoaded = false;
    var currentSong = "id";

    function httpGet(theUrl) {
        var xmlHttp = new XMLHttpRequest();
        xmlHttp.open("GET", theUrl, false); // false for synchronous request
        xmlHttp.send(null);
        return xmlHttp.responseText;
    }

    function getPath() {
        
        return httpGet(window.location.href + "/url");
    }

    function createYoutubeUrl(id) {
        return "https://www.youtube.com/embed/" + id + "?autoplay=1";
    }

    function pauseVideo() {
        httpGet(window.location.href + "/pause/" + currentSong);
    }
   
    function changeSrc() {
        if (!isLoaded) {
            loop();
            isLoaded = true;
            setInterval(function () {
                loop();
            }, 1000);
        }

        function loop() {
            var newPath = getPath();
            if (currentSong !== newPath) { 
                document.getElementById('Myframe').src = createYoutubeUrl(newPath);
                currentSong = newPath;
                pauseVideo();
            }
        }
    }
</script>
<table>
    <tr>
        <td>
            <iframe id="Myframe" onLoad="changeSrc();" src="about:blank" style="position: fixed; top: 0px; left: 0px; bottom: 0px; right: 0px; width: 70%; height: 100%; border: none; margin: 0; padding: 0; overflow: hidden; z-index: 999999;">
                Your browser doesn't support iframes
            </iframe>
        </td>
        <td>
            <span>Content?</span>
        </td>
    </tr>
</table>
</body>
</html>